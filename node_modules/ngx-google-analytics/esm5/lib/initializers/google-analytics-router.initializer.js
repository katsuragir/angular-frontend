/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { APP_BOOTSTRAP_LISTENER } from '@angular/core';
import { Router, NavigationEnd } from '@angular/router';
import { GoogleAnalyticsService } from '../services/google-analytics.service';
/** @type {?} */
export var NGX_GOOGLE_ANALYTICS_ROUTER_INITIALIZER_PROVIDER = {
    provide: APP_BOOTSTRAP_LISTENER,
    multi: true,
    useFactory: GoogleAnalyticsRouterInitializer,
    deps: [
        GoogleAnalyticsService,
        Router
    ]
};
/**
 * @param {?} $gaService
 * @param {?} $router
 * @return {?}
 */
export function GoogleAnalyticsRouterInitializer($gaService, $router) {
    var _this = this;
    return (/**
     * @param {?} c
     * @return {?}
     */
    function (c) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            $router
                .events
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                if (event instanceof NavigationEnd) {
                    $gaService.pageView(event.urlAfterRedirects, undefined, document.location.href);
                }
            }));
            return [2 /*return*/];
        });
    }); });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLWFuYWx5dGljcy1yb3V0ZXIuaW5pdGlhbGl6ZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZ29vZ2xlLWFuYWx5dGljcy8iLCJzb3VyY2VzIjpbImxpYi9pbml0aWFsaXplcnMvZ29vZ2xlLWFuYWx5dGljcy1yb3V0ZXIuaW5pdGlhbGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQVksc0JBQXNCLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7O0FBRTlFLE1BQU0sS0FBTyxnREFBZ0QsR0FBYTtJQUN4RSxPQUFPLEVBQUUsc0JBQXNCO0lBQy9CLEtBQUssRUFBRSxJQUFJO0lBQ1gsVUFBVSxFQUFFLGdDQUFnQztJQUM1QyxJQUFJLEVBQUU7UUFDSixzQkFBc0I7UUFDdEIsTUFBTTtLQUNQO0NBQ0Y7Ozs7OztBQUVELE1BQU0sVUFBVSxnQ0FBZ0MsQ0FDOUMsVUFBa0MsRUFDbEMsT0FBZTtJQUZqQixpQkFhQztJQVRDOzs7O0lBQU8sVUFBTyxDQUFvQjs7WUFDaEMsT0FBTztpQkFDSixNQUFNO2lCQUNOLFNBQVM7Ozs7WUFBQyxVQUFBLEtBQUs7Z0JBQ2QsSUFBSSxLQUFLLFlBQVksYUFBYSxFQUFFO29CQUNsQyxVQUFVLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDakY7WUFDSCxDQUFDLEVBQUMsQ0FBQzs7O1NBQ04sRUFBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm92aWRlciwgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiwgQ29tcG9uZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJvdXRlciwgTmF2aWdhdGlvbkVuZCB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IEdvb2dsZUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9nb29nbGUtYW5hbHl0aWNzLnNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGNvbnN0IE5HWF9HT09HTEVfQU5BTFlUSUNTX1JPVVRFUl9JTklUSUFMSVpFUl9QUk9WSURFUjogUHJvdmlkZXIgPSB7XHJcbiAgcHJvdmlkZTogQVBQX0JPT1RTVFJBUF9MSVNURU5FUixcclxuICBtdWx0aTogdHJ1ZSxcclxuICB1c2VGYWN0b3J5OiBHb29nbGVBbmFseXRpY3NSb3V0ZXJJbml0aWFsaXplcixcclxuICBkZXBzOiBbXHJcbiAgICBHb29nbGVBbmFseXRpY3NTZXJ2aWNlLFxyXG4gICAgUm91dGVyXHJcbiAgXVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEdvb2dsZUFuYWx5dGljc1JvdXRlckluaXRpYWxpemVyKFxyXG4gICRnYVNlcnZpY2U6IEdvb2dsZUFuYWx5dGljc1NlcnZpY2UsXHJcbiAgJHJvdXRlcjogUm91dGVyXHJcbikge1xyXG4gIHJldHVybiBhc3luYyAoYzogQ29tcG9uZW50UmVmPGFueT4pID0+IHtcclxuICAgICRyb3V0ZXJcclxuICAgICAgLmV2ZW50c1xyXG4gICAgICAuc3Vic2NyaWJlKGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7XHJcbiAgICAgICAgICAkZ2FTZXJ2aWNlLnBhZ2VWaWV3KGV2ZW50LnVybEFmdGVyUmVkaXJlY3RzLCB1bmRlZmluZWQsIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxufVxyXG4iXX0=