/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { APP_BOOTSTRAP_LISTENER } from '@angular/core';
import { Router, NavigationEnd } from '@angular/router';
import { GoogleAnalyticsService } from '../services/google-analytics.service';
/** @type {?} */
export const NGX_GOOGLE_ANALYTICS_ROUTER_INITIALIZER_PROVIDER = {
    provide: APP_BOOTSTRAP_LISTENER,
    multi: true,
    useFactory: GoogleAnalyticsRouterInitializer,
    deps: [
        GoogleAnalyticsService,
        Router
    ]
};
/**
 * @param {?} $gaService
 * @param {?} $router
 * @return {?}
 */
export function GoogleAnalyticsRouterInitializer($gaService, $router) {
    return (/**
     * @param {?} c
     * @return {?}
     */
    (c) => tslib_1.__awaiter(this, void 0, void 0, function* () {
        $router
            .events
            .subscribe((/**
         * @param {?} event
         * @return {?}
         */
        event => {
            if (event instanceof NavigationEnd) {
                $gaService.pageView(event.urlAfterRedirects, undefined, document.location.href);
            }
        }));
    }));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLWFuYWx5dGljcy1yb3V0ZXIuaW5pdGlhbGl6ZXIuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZ29vZ2xlLWFuYWx5dGljcy8iLCJzb3VyY2VzIjpbImxpYi9pbml0aWFsaXplcnMvZ29vZ2xlLWFuYWx5dGljcy1yb3V0ZXIuaW5pdGlhbGl6ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQVksc0JBQXNCLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDeEQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7O0FBRTlFLE1BQU0sT0FBTyxnREFBZ0QsR0FBYTtJQUN4RSxPQUFPLEVBQUUsc0JBQXNCO0lBQy9CLEtBQUssRUFBRSxJQUFJO0lBQ1gsVUFBVSxFQUFFLGdDQUFnQztJQUM1QyxJQUFJLEVBQUU7UUFDSixzQkFBc0I7UUFDdEIsTUFBTTtLQUNQO0NBQ0Y7Ozs7OztBQUVELE1BQU0sVUFBVSxnQ0FBZ0MsQ0FDOUMsVUFBa0MsRUFDbEMsT0FBZTtJQUVmOzs7O0lBQU8sQ0FBTyxDQUFvQixFQUFFLEVBQUU7UUFDcEMsT0FBTzthQUNKLE1BQU07YUFDTixTQUFTOzs7O1FBQUMsS0FBSyxDQUFDLEVBQUU7WUFDakIsSUFBSSxLQUFLLFlBQVksYUFBYSxFQUFFO2dCQUNsQyxVQUFVLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNqRjtRQUNILENBQUMsRUFBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFBLEVBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIsIEFQUF9CT09UU1RSQVBfTElTVEVORVIsIENvbXBvbmVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBSb3V0ZXIsIE5hdmlnYXRpb25FbmQgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xyXG5pbXBvcnQgeyBHb29nbGVBbmFseXRpY3NTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZ29vZ2xlLWFuYWx5dGljcy5zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBjb25zdCBOR1hfR09PR0xFX0FOQUxZVElDU19ST1VURVJfSU5JVElBTElaRVJfUFJPVklERVI6IFByb3ZpZGVyID0ge1xyXG4gIHByb3ZpZGU6IEFQUF9CT09UU1RSQVBfTElTVEVORVIsXHJcbiAgbXVsdGk6IHRydWUsXHJcbiAgdXNlRmFjdG9yeTogR29vZ2xlQW5hbHl0aWNzUm91dGVySW5pdGlhbGl6ZXIsXHJcbiAgZGVwczogW1xyXG4gICAgR29vZ2xlQW5hbHl0aWNzU2VydmljZSxcclxuICAgIFJvdXRlclxyXG4gIF1cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHb29nbGVBbmFseXRpY3NSb3V0ZXJJbml0aWFsaXplcihcclxuICAkZ2FTZXJ2aWNlOiBHb29nbGVBbmFseXRpY3NTZXJ2aWNlLFxyXG4gICRyb3V0ZXI6IFJvdXRlclxyXG4pIHtcclxuICByZXR1cm4gYXN5bmMgKGM6IENvbXBvbmVudFJlZjxhbnk+KSA9PiB7XHJcbiAgICAkcm91dGVyXHJcbiAgICAgIC5ldmVudHNcclxuICAgICAgLnN1YnNjcmliZShldmVudCA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTmF2aWdhdGlvbkVuZCkge1xyXG4gICAgICAgICAgJGdhU2VydmljZS5wYWdlVmlldyhldmVudC51cmxBZnRlclJlZGlyZWN0cywgdW5kZWZpbmVkLCBkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIl19