!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-google-analytics",["exports","@angular/core","@angular/router","@angular/common"],e):e((t=t||self)["ngx-google-analytics"]={},t.ng.core,t.ng.router,t.ng.common)}(this,function(t,e,n,o){"use strict";function r(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{u(o.next(t))}catch(e){i(e)}}function c(t){try{u(o["throw"](t))}catch(e){i(e)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,c)}u((o=o.apply(t,e||[])).next())})}function i(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o["return"]:i[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var u=new e.InjectionToken("ngx-hotjar-settings",{factory:function(){return{trackingCode:""}}}),s={provide:e.APP_INITIALIZER,multi:!0,useFactory:g,deps:[u]};function g(t){var n=this;return function(){return r(n,void 0,void 0,function(){var n,o,r,a,u,s,g;return i(this,function(i){if(!t.trackingCode)return e.isDevMode()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."),[2];t.uri=t.uri||"https://www.googletagmanager.com/gtag/js?id="+t.trackingCode,r=[{command:"js",values:[new Date]},{command:"config",values:[t.trackingCode]}],t.initCommands=c(r,t.initCommands||[]),window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)};try{for(a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(t.initCommands),u=a.next();!u.done;u=a.next())s=u.value,window.gtag.apply(window,c([s.command],s.values))}catch(l){n={error:l}}finally{try{u&&!u.done&&(o=a["return"])&&o.call(a)}finally{if(n)throw n.error}}return(g=document.createElement("script")).async=!0,g.src=t.uri,document.getElementsByTagName("head")[0].appendChild(g),[2]})})}}var l=function(){function t(t){this.$trackingId=t}return t.prototype["throw"]=function(t){console&&console.error&&console.error(t)},t.prototype.gtag=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];try{window.gtag.apply(window,c([t,e],n))}catch(r){this["throw"](r)}},t.prototype.event=function(t,e,n,o,r){try{if(window.gtag){var i={};e&&(i.event_category=e),n&&(i.event_label=n),o&&(i.value=o),r!==undefined&&(i.interaction=r),this.gtag("event",t,i)}}catch(a){this["throw"](a)}},t.prototype.pageView=function(t,e,n,o){try{if(window.gtag){var r={};t&&(r.page_path=t),e&&(r.page_title=e),n&&(r.page_location=n),o&&Object.assign(r,o),this.gtag("config",this.$trackingId.trackingCode,r)}}catch(i){this["throw"](i)}},t.prototype.appView=function(t,e,n,o,r){try{if(window.gtag){var i={};t&&(i.screen_name=t),e&&(i.app_name=e),n&&(i.app_id=n),o&&(i.app_version=o),r&&(i.app_installer_id=r),this.gtag("event","screen_view",i)}}catch(a){this["throw"](a)}},t.prototype.exception=function(t,e){try{if(window.gtag){var n={};t&&(n.description=t),e&&(n.fatal=e),this.gtag("event","exception",n)}}catch(o){this["throw"](o)}},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:e.Inject,args:[u]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(u))},token:t,providedIn:"root"}),t}(),p={provide:e.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:f,deps:[l,n.Router]};function f(t,e){var o=this;return function(a){return r(o,void 0,void 0,function(){return i(this,function(o){return e.events.subscribe(function(e){e instanceof n.NavigationEnd&&t.pageView(e.urlAfterRedirects,undefined,document.location.href)}),[2]})})}}var d=function(){function t(){}return t.decorators=[{type:e.Directive,args:[{selector:"[gaEvent][gaCategory],\n             [gaCategory]",exportAs:"gaCategory"}]}],t.ctorParameters=function(){return[]},t.propDecorators={gaCategory:[{type:e.Input}]},t}(),y=function(){function t(t,e){this.$gaCategoryDirective=t,this.$gaService=e,this.gaBind="click"}return t.prototype.ngOnInit=function(){},t.prototype.onClick=function(){"click"===this.gaBind&&this.trigger()},t.prototype.onFocus=function(){"focus"===this.gaBind&&this.trigger()},t.prototype.onBlur=function(){"blur"===this.gaBind&&this.trigger()},t.prototype.trigger=function(){try{if(!this.$gaCategoryDirective)throw new Error("You must provide a gaCategory attribute w/ gaEvent Directive.");if(!this.gaAction)throw new Error("You must provide a gaAction atrribute to identify this event.");this.$gaService.event(this.gaAction,this.$gaCategoryDirective.gaCategory,this.gaLabel||this.label,this.gaValue,this.gaInteraction)}catch(t){this["throw"](t)}},t.prototype["throw"]=function(t){console&&console.warn&&console.warn(t)},t.decorators=[{type:e.Directive,args:[{selector:"[gaEvent]",exportAs:"gaEvent"}]}],t.ctorParameters=function(){return[{type:d,decorators:[{type:e.Optional}]},{type:l}]},t.propDecorators={gaAction:[{type:e.Input}],gaLabel:[{type:e.Input}],label:[{type:e.Input}],gaValue:[{type:e.Input}],gaInteraction:[{type:e.Input}],gaBind:[{type:e.Input}],onClick:[{type:e.HostListener,args:["click"]}],onFocus:[{type:e.HostListener,args:["focus"]}],onBlur:[{type:e.HostListener,args:["blur"]}]},t}(),h=function(){function t(t){this.$gaEvent=t}return t.prototype.ngOnInit=function(){this.$gaEvent&&(this.$gaEvent.gaBind=this.gaBind?this.$gaEvent.gaBind:"focus")},t.decorators=[{type:e.Directive,args:[{selector:"input[gaEvent],\n             select[gaEvent],\n             textarea[gaEvent]"}]}],t.ctorParameters=function(){return[{type:y,decorators:[{type:e.Host},{type:e.Optional}]}]},t.propDecorators={gaBind:[{type:e.Input}]},t}(),v=function(){function t(){}return t.forRoot=function(e,n,o){return void 0===n&&(n=[]),{ngModule:t,providers:[{provide:u,useValue:{trackingCode:e,commands:n,uri:o}},s]}},t.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[y,d,h],exports:[y,d,h]}]}],t}(),w=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,v],providers:[p],declarations:[]}]}],t}();t.GaEventCategoryDirective=d,t.GaEventDirective=y,t.GaEventFormInputDirective=h,t.GoogleAnalyticsInitializer=g,t.GoogleAnalyticsRouterInitializer=f,t.GoogleAnalyticsService=l,t.NGX_GOOGLE_ANALYTICS_INITIALIZER_PROVIDER=s,t.NGX_GOOGLE_ANALYTICS_ROUTER_INITIALIZER_PROVIDER=p,t.NGX_GOOGLE_ANALYTICS_SETTINGS_TOKEN=u,t.NgxGoogleAnalyticsModule=v,t.NgxGoogleAnalyticsRouterModule=w,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-google-analytics.umd.min.js.map